<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Minecraft"
    />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="%PUBLIC_URL%/assets/p5.js"></script>
    <script>
      let pickerInited = false;
      let gisInited = false;

      function onApiLoad() {
        gapi.load('picker', onPickerApiLoad);
        gapi.load('client', intializeGapiClient);
      }
      function onPickerApiLoad() {
        pickerInited = true;
        // createPicker();
      }
    //   function gisLoaded() {
    //     gisInited = true;
    // }



    </script>
    <script async defer src="https://apis.google.com/js/api.js" onload="onApiLoad()"></script>
    <!-- <script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script> -->
    <script async defer src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>
  
    <title>React App</title>
    <script>
      const CLIENT_ID = '851640512484-ba4t84v64uttpjmefo6big011lffdgj2.apps.googleusercontent.com';
      const API_KEY = 'AIzaSyCsAkar3jishAeQ1sBAEtb2Ch-7Ki1s4h4';

      // Discovery doc URL for APIs used by the quickstart
      const DISCOVERY_DOC = 'https://sheets.googleapis.com/$discovery/rest?version=v4';

      // Authorization scopes required by the API; multiple scopes can be
      // included, separated by spaces.
      const SCOPES = 'https://www.googleapis.com/auth/spreadsheets.readonly';
      let tokenClient;
      let gapiInited = false;
      // let gisInited = false;

      function gapiLoaded() {
        // eslint-disable-next-line no-undef
        
      }

      /**
       * Callback after the API client is loaded. Loads the
       * discovery doc to initialize the API.
       */
      async function intializeGapiClient() {
        // eslint-disable-next-line no-undef
        await gapi.client.init({
          immediate: true,
          apiKey: API_KEY,
          discoveryDocs: [DISCOVERY_DOC],
        });
        console.log('gapi.client.init')
        gapiInited = true;
        // handleAuthClick();
      }

      function gisLoaded() {
        // eslint-disable-next-line no-undef
        tokenClient = google.accounts.oauth2.initTokenClient({
          immediate: true,
          client_id: CLIENT_ID,
          scope: SCOPES,
          callback: '', // defined later
        });
        gisInited = true;
      }
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <main></main>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
</html>
